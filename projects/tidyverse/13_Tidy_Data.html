<!DOCTYPE html>
<html lang="en"><head>
<script src="13_Tidy_Data_files/libs/clipboard/clipboard.min.js"></script>
<script src="13_Tidy_Data_files/libs/quarto-html/tabby.min.js"></script>
<script src="13_Tidy_Data_files/libs/quarto-html/popper.min.js"></script>
<script src="13_Tidy_Data_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="13_Tidy_Data_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="13_Tidy_Data_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="13_Tidy_Data_files/libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.2.269">

  <title>Tidy Data</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="13_Tidy_Data_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="13_Tidy_Data_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #f8f8f2;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #f8f8f2; } /* Normal */
    code span.al { color: #f07178; background-color: #2a0f15; font-weight: bold; } /* Alert */
    code span.an { color: #d4d0ab; } /* Annotation */
    code span.at { color: #00e0e0; } /* Attribute */
    code span.bn { color: #d4d0ab; } /* BaseN */
    code span.bu { color: #abe338; } /* BuiltIn */
    code span.cf { color: #ffa07a; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #abe338; } /* Char */
    code span.cn { color: #ffd700; } /* Constant */
    code span.co { color: #f8f8f2; font-style: italic; } /* Comment */
    code span.cv { color: #ffd700; } /* CommentVar */
    code span.do { color: #f8f8f2; } /* Documentation */
    code span.dt { color: #ffa07a; } /* DataType */
    code span.dv { color: #d4d0ab; } /* DecVal */
    code span.er { color: #f07178; text-decoration: underline; } /* Error */
    code span.ex { color: #00e0e0; font-weight: bold; } /* Extension */
    code span.fl { color: #d4d0ab; } /* Float */
    code span.fu { color: #ffa07a; } /* Function */
    code span.im { color: #abe338; } /* Import */
    code span.in { color: #d4d0ab; } /* Information */
    code span.kw { color: #ffa07a; font-weight: bold; } /* Keyword */
    code span.op { color: #ffa07a; } /* Operator */
    code span.ot { color: #00e0e0; } /* Other */
    code span.pp { color: #dcc6e0; } /* Preprocessor */
    code span.re { color: #00e0e0; background-color: #f8f8f2; } /* RegionMarker */
    code span.sc { color: #abe338; } /* SpecialChar */
    code span.ss { color: #abe338; } /* SpecialString */
    code span.st { color: #abe338; } /* String */
    code span.va { color: #00e0e0; } /* Variable */
    code span.vs { color: #abe338; } /* VerbatimString */
    code span.wa { color: #dcc6e0; } /* Warning */
  </style>
  <link rel="stylesheet" href="13_Tidy_Data_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link rel="stylesheet" href="styles.css">
  <link href="13_Tidy_Data_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="13_Tidy_Data_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="13_Tidy_Data_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="13_Tidy_Data_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="13_Tidy_Data_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="13_Tidy_Data_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-dark">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Tidy Data</h1>
  <p class="subtitle">David Koppstein</p>

<div class="quarto-title-authors">
</div>

</section>
<section id="what-is-tidy-data" class="slide level2">
<h2>What is Tidy Data?</h2>
<ul>
<li>In tidy data, each row is an observation and each column is a different variable.</li>
<li>In wide data, each row contains several observations, and the columns contain values.</li>
</ul>

<img data-src="images/tidy_data.png" class="r-stretch"><div class="footer">
<p><a href="https://maxplanck-ie.github.io/Rintro" class="uri">https://maxplanck-ie.github.io/Rintro</a></p>
</div>
</section>
<section id="example-of-a-tidy-data-frame" class="slide level2">
<h2>Example of a tidy data frame</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">library</span>(dslabs)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">data</span>(gapminder)</span>
<span id="cb1-4"><a href="#cb1-4"></a>tidy_data <span class="ot">&lt;-</span> gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb1-5"><a href="#cb1-5"></a>  <span class="fu">filter</span>(country <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"South Korea"</span>, <span class="st">"Germany"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb1-6"><a href="#cb1-6"></a>  <span class="fu">select</span>(country, year, fertility)</span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="fu">head</span>(tidy_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      country year fertility
1     Germany 1960      2.41
2 South Korea 1960      6.16
3     Germany 1961      2.44
4 South Korea 1961      5.99
5     Germany 1962      2.47
6 South Korea 1962      5.79</code></pre>
</div>
</div>
</section>
<section id="plotting-tidy-data-is-simple-with-ggplot2" class="slide level2">
<h2>Plotting tidy data is simple with <code>ggplot2</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>tidy_data <span class="sc">%&gt;%</span> </span>
<span id="cb3-2"><a href="#cb3-2"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(year, fertility, <span class="at">color =</span> country)) <span class="sc">+</span></span>
<span id="cb3-3"><a href="#cb3-3"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="13_Tidy_Data_files/figure-revealjs/unnamed-chunk-2-1.png" width="960" class="r-stretch"></section>
<section id="example-of-wide-data" class="slide level2">
<h2>Example of wide data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># import and inspect example of original Gapminder data in wide format</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>path <span class="ot">&lt;-</span> <span class="fu">system.file</span>(<span class="st">"extdata"</span>, <span class="at">package=</span><span class="st">"dslabs"</span>)</span>
<span id="cb4-3"><a href="#cb4-3"></a>filename <span class="ot">&lt;-</span> <span class="fu">file.path</span>(path,  <span class="st">"fertility-two-countries-example.csv"</span>)</span>
<span id="cb4-4"><a href="#cb4-4"></a>wide_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(filename)</span>
<span id="cb4-5"><a href="#cb4-5"></a>wide_data <span class="sc">%&gt;%</span> <span class="fu">select</span>(country, <span class="st">`</span><span class="at">1960</span><span class="st">`</span><span class="sc">:</span><span class="st">`</span><span class="at">1967</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 9
  country     `1960` `1961` `1962` `1963` `1964` `1965` `1966` `1967`
  &lt;chr&gt;        &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
1 Germany       2.41   2.44   2.47   2.49   2.49   2.48   2.44   2.37
2 South Korea   6.16   5.99   5.79   5.57   5.36   5.16   4.99   4.85</code></pre>
</div>
</div>
</section>
<section id="converting-wide-to-tidy-data" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Converting wide to tidy data</h2>
<ul>
<li>The <code>pivot_longer()</code> function converts wide data into tidy data.</li>
<li>The second argument specifies the columns containing values to be moved into a single column.</li>
<li>By default, the new column of values is called <code>value</code> and the column containing the original names is called <code>name</code>.</li>
</ul>
</section>
<section id="pivot_longer-in-action" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"><code>pivot_longer()</code> in action</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb6-1" class="hljs-ln-code"><a href="#cb6-1"></a>wide_data <span class="sc">%&gt;%</span> <span class="fu">pivot_longer</span>(<span class="st">`</span><span class="at">1960</span><span class="st">`</span><span class="sc">:</span><span class="st">`</span><span class="at">2015</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 112 × 3
   country name  value
   &lt;chr&gt;   &lt;chr&gt; &lt;dbl&gt;
 1 Germany 1960   2.41
 2 Germany 1961   2.44
 3 Germany 1962   2.47
 4 Germany 1963   2.49
 5 Germany 1964   2.49
 6 Germany 1965   2.48
 7 Germany 1966   2.44
 8 Germany 1967   2.37
 9 Germany 1968   2.28
10 Germany 1969   2.17
# … with 102 more rows</code></pre>
</div>
</div>
</section>
<section id="pivot_longer-in-action-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"><code>pivot_longer()</code> in action</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb8-1" class="hljs-ln-code"><a href="#cb8-1"></a><span class="co"># another way to do this - only country isn't being pivoted</span></span>
<span id="cb8-2" class="hljs-ln-code"><a href="#cb8-2"></a>wide_data <span class="sc">%&gt;%</span> <span class="fu">pivot_longer</span>(<span class="sc">-</span>country)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 112 × 3
   country name  value
   &lt;chr&gt;   &lt;chr&gt; &lt;dbl&gt;
 1 Germany 1960   2.41
 2 Germany 1961   2.44
 3 Germany 1962   2.47
 4 Germany 1963   2.49
 5 Germany 1964   2.49
 6 Germany 1965   2.48
 7 Germany 1966   2.44
 8 Germany 1967   2.37
 9 Germany 1968   2.28
10 Germany 1969   2.17
# … with 102 more rows</code></pre>
</div>
</div>
</section>
<section id="pivot_longer-in-action-2" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"><code>pivot_longer()</code> in action</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb10-1" class="hljs-ln-code"><a href="#cb10-1"></a>new_tidy_data <span class="ot">&lt;-</span> wide_data <span class="sc">%&gt;%</span> </span>
<span id="cb10-2" class="hljs-ln-code"><a href="#cb10-2"></a>  <span class="fu">pivot_longer</span>(<span class="sc">-</span>country, <span class="at">names_to =</span> <span class="st">"year"</span>, <span class="at">values_to =</span> <span class="st">"fertility"</span>)</span>
<span id="cb10-3" class="hljs-ln-code"><a href="#cb10-3"></a><span class="fu">head</span>(new_tidy_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  country year  fertility
  &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt;
1 Germany 1960       2.41
2 Germany 1961       2.44
3 Germany 1962       2.47
4 Germany 1963       2.49
5 Germany 1964       2.49
6 Germany 1965       2.48</code></pre>
</div>
</div>
</section>
<section id="pivot_longer-in-action-3" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"><code>pivot_longer()</code> in action</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co"># compare the class from our original tidy data (year is an integer) and in the new version (year is a character)</span></span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="fu">class</span>(tidy_data<span class="sc">$</span>year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="fu">class</span>(new_tidy_data<span class="sc">$</span>year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
</section>
<section id="pivot_longer-in-action-4" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"><code>pivot_longer()</code> in action</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb16-1" class="hljs-ln-code"><a href="#cb16-1"></a><span class="co"># use the names_transform argument to change the class of the year values to numeric</span></span>
<span id="cb16-2" class="hljs-ln-code"><a href="#cb16-2"></a>new_tidy_data <span class="ot">&lt;-</span> wide_data <span class="sc">%&gt;%</span> </span>
<span id="cb16-3" class="hljs-ln-code"><a href="#cb16-3"></a>  <span class="fu">pivot_longer</span>(<span class="sc">-</span>country, <span class="at">names_to =</span> <span class="st">"year"</span>, <span class="at">values_to =</span> <span class="st">"fertility"</span>, </span>
<span id="cb16-4" class="hljs-ln-code"><a href="#cb16-4"></a>               <span class="at">names_transform =</span> <span class="fu">list</span>(<span class="at">year=</span>as.numeric))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="pivot_wider" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"><code>pivot_wider()</code></h2>
<ul>
<li>The <code>pivot_wider()</code> function converts tidy data into wide data</li>
<li>The data frame to be reshaped is the first argument in <code>pivot_wider()</code></li>
<li>The argument <code>names_from</code> tells <code>pivot_wider()</code> which variable will be used for the column names, <code>values_from</code> which variable to use to fill in the values.</li>
</ul>
</section>
<section id="pivot_wider-in-action" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"><code>pivot_wider()</code> in action</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb17-1" class="hljs-ln-code"><a href="#cb17-1"></a><span class="co"># convert the tidy data to wide data</span></span>
<span id="cb17-2" class="hljs-ln-code"><a href="#cb17-2"></a>new_wide_data <span class="ot">&lt;-</span> new_tidy_data <span class="sc">%&gt;%</span> </span>
<span id="cb17-3" class="hljs-ln-code"><a href="#cb17-3"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> year, <span class="at">values_from =</span> fertility)</span>
<span id="cb17-4" class="hljs-ln-code"><a href="#cb17-4"></a><span class="fu">select</span>(new_wide_data, country, <span class="st">`</span><span class="at">1960</span><span class="st">`</span><span class="sc">:</span><span class="st">`</span><span class="at">1967</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 9
  country     `1960` `1961` `1962` `1963` `1964` `1965` `1966` `1967`
  &lt;chr&gt;        &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
1 Germany       2.41   2.44   2.47   2.49   2.49   2.48   2.44   2.37
2 South Korea   6.16   5.99   5.79   5.57   5.36   5.16   4.99   4.85</code></pre>
</div>
</div>
</section>
<section id="exercise" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Exercise</h2>
<ul>
<li>Use the built-in <code>co2</code> dataset from dslabs.</li>
<li>Convert it to a wide format using the following:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb19-1" class="hljs-ln-code"><a href="#cb19-1"></a>co2_wide <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">matrix</span>(co2, <span class="at">ncol =</span> <span class="dv">12</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb19-2" class="hljs-ln-code"><a href="#cb19-2"></a>    <span class="fu">setNames</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>) <span class="sc">%&gt;%</span></span>
<span id="cb19-3" class="hljs-ln-code"><a href="#cb19-3"></a>    <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">as.character</span>(<span class="dv">1959</span><span class="sc">:</span><span class="dv">1997</span>))</span>
<span id="cb19-4" class="hljs-ln-code"><a href="#cb19-4"></a><span class="fu">head</span>(co2_wide)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       1      2      3      4      5      6      7      8      9     10     11
1 315.42 316.31 316.50 317.56 318.13 318.00 316.39 314.65 313.68 313.18 314.66
2 316.27 316.81 317.42 318.87 319.87 319.43 318.01 315.74 314.00 313.68 314.84
3 316.73 317.54 318.38 319.31 320.42 319.61 318.42 316.63 314.83 315.16 315.94
4 317.78 318.40 319.53 320.42 320.85 320.45 319.45 317.25 316.11 315.27 316.53
5 318.58 318.92 319.70 321.22 322.08 321.31 319.58 317.61 316.05 315.83 316.91
6 319.41 320.07 320.74 321.40 322.06 321.73 320.27 318.54 316.54 316.71 317.53
      12 year
1 315.43 1959
2 316.03 1960
3 316.85 1961
4 317.53 1962
5 318.20 1963
6 318.55 1964</code></pre>
</div>
</div>
</section>
<section id="exercise-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Exercise</h2>
<ul>
<li>Convert the wide format to a tidy format.</li>
<li>Use ggplot to plot CO2 vs.&nbsp;month with a different curve per year</li>
</ul>
</section>
<section id="exercise---part-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Exercise - part 1</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb21-1" class="hljs-ln-code"><a href="#cb21-1"></a>co2_tidy <span class="ot">&lt;-</span> <span class="fu">pivot_longer</span>(co2_wide, <span class="sc">-</span>year, <span class="at">names_to =</span> <span class="st">"month"</span>, <span class="at">values_to =</span> <span class="st">"co2"</span>)</span>
<span id="cb21-2" class="hljs-ln-code"><a href="#cb21-2"></a>co2_tidy</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 468 × 3
   year  month   co2
   &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;
 1 1959  1      315.
 2 1959  2      316.
 3 1959  3      316.
 4 1959  4      318.
 5 1959  5      318.
 6 1959  6      318 
 7 1959  7      316.
 8 1959  8      315.
 9 1959  9      314.
10 1959  10     313.
# … with 458 more rows</code></pre>
</div>
</div>
</section>
<section id="exercise---part-2" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Exercise - part 2</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb23-1" class="hljs-ln-code"><a href="#cb23-1"></a>co2_tidy <span class="sc">%&gt;%</span> </span>
<span id="cb23-2" class="hljs-ln-code"><a href="#cb23-2"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="fu">as.numeric</span>(month), co2, <span class="at">color =</span> year)) <span class="sc">+</span> </span>
<span id="cb23-3" class="hljs-ln-code"><a href="#cb23-3"></a>  <span class="fu">geom_line</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="13_Tidy_Data_files/figure-revealjs/unnamed-chunk-12-1.png" width="960" class="r-stretch"></section>
<section id="separate" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"><code>separate()</code></h2>
<ul>
<li>splits one column into two or more columns at a specified character</li>
<li>takes three parameters: the name of the column to be separated, the names to be used for the new columns, and the character that separates the variables.</li>
<li>use <code>extra = "merge"</code> to merge rest in case of additional separation</li>
</ul>
</section>
<section id="separate-in-action" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"><code>separate()</code> in action</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb24-1" class="hljs-ln-code"><a href="#cb24-1"></a>path <span class="ot">&lt;-</span> <span class="fu">system.file</span>(<span class="st">"extdata"</span>, <span class="at">package =</span> <span class="st">"dslabs"</span>)</span>
<span id="cb24-2" class="hljs-ln-code"><a href="#cb24-2"></a>fname <span class="ot">&lt;-</span><span class="st">"life-expectancy-and-fertility-two-countries-example.csv"</span></span>
<span id="cb24-3" class="hljs-ln-code"><a href="#cb24-3"></a>filename <span class="ot">&lt;-</span> <span class="fu">file.path</span>(path, fname)</span>
<span id="cb24-4" class="hljs-ln-code"><a href="#cb24-4"></a>raw_dat <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(filename)</span>
<span id="cb24-5" class="hljs-ln-code"><a href="#cb24-5"></a><span class="fu">select</span>(raw_dat, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 4
  country     `1960_fertility` `1960_life_expectancy` `1961_fertility`
  &lt;chr&gt;                  &lt;dbl&gt;                  &lt;dbl&gt;            &lt;dbl&gt;
1 Germany                 2.41                   69.3             2.44
2 South Korea             6.16                   53.0             5.99</code></pre>
</div>
</div>
</section>
<section id="separate-in-action-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"><code>separate()</code> in action</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="co"># pivot all columns except country</span></span>
<span id="cb26-2"><a href="#cb26-2"></a>dat <span class="ot">&lt;-</span> raw_dat <span class="sc">%&gt;%</span> <span class="fu">pivot_longer</span>(<span class="sc">-</span>country)</span>
<span id="cb26-3"><a href="#cb26-3"></a><span class="fu">head</span>(dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  country name                 value
  &lt;chr&gt;   &lt;chr&gt;                &lt;dbl&gt;
1 Germany 1960_fertility        2.41
2 Germany 1960_life_expectancy 69.3 
3 Germany 1961_fertility        2.44
4 Germany 1961_life_expectancy 69.8 
5 Germany 1962_fertility        2.47
6 Germany 1962_life_expectancy 70.0 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a>dat<span class="sc">$</span>name[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1960_fertility"       "1960_life_expectancy" "1961_fertility"      
[4] "1961_life_expectancy" "1962_fertility"      </code></pre>
</div>
</div>
</section>
<section id="separate-in-action-2" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"><code>separate()</code> in action</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb30-1" class="hljs-ln-code"><a href="#cb30-1"></a><span class="co"># separate on underscores</span></span>
<span id="cb30-2" class="hljs-ln-code"><a href="#cb30-2"></a>dat <span class="sc">%&gt;%</span> <span class="fu">separate</span>(name, <span class="fu">c</span>(<span class="st">"year"</span>, <span class="st">"name"</span>), <span class="at">sep =</span> <span class="st">"_"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 224 × 4
   country year  name      value
   &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;     &lt;dbl&gt;
 1 Germany 1960  fertility  2.41
 2 Germany 1960  life      69.3 
 3 Germany 1961  fertility  2.44
 4 Germany 1961  life      69.8 
 5 Germany 1962  fertility  2.47
 6 Germany 1962  life      70.0 
 7 Germany 1963  fertility  2.49
 8 Germany 1963  life      70.1 
 9 Germany 1964  fertility  2.49
10 Germany 1964  life      70.7 
# … with 214 more rows</code></pre>
</div>
</div>
</section>
<section id="separate-in-action-3" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"><code>separate()</code> in action</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb32-1" class="hljs-ln-code"><a href="#cb32-1"></a><span class="co"># separate on underscores (the default), convert years to numeric</span></span>
<span id="cb32-2" class="hljs-ln-code"><a href="#cb32-2"></a>dat <span class="sc">%&gt;%</span> <span class="fu">separate</span>(name, <span class="fu">c</span>(<span class="st">"year"</span>, <span class="st">"name"</span>), <span class="at">convert =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 224 × 4
   country  year name      value
   &lt;chr&gt;   &lt;int&gt; &lt;chr&gt;     &lt;dbl&gt;
 1 Germany  1960 fertility  2.41
 2 Germany  1960 life      69.3 
 3 Germany  1961 fertility  2.44
 4 Germany  1961 life      69.8 
 5 Germany  1962 fertility  2.47
 6 Germany  1962 life      70.0 
 7 Germany  1963 fertility  2.49
 8 Germany  1963 life      70.1 
 9 Germany  1964 fertility  2.49
10 Germany  1964 life      70.7 
# … with 214 more rows</code></pre>
</div>
</div>
</section>
<section id="separate-in-action-4" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"><code>separate()</code> in action</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb34-1" class="hljs-ln-code"><a href="#cb34-1"></a><span class="co"># separate on underscores</span></span>
<span id="cb34-2" class="hljs-ln-code"><a href="#cb34-2"></a><span class="co"># split on all underscores, pad empty cells with NA</span></span>
<span id="cb34-3" class="hljs-ln-code"><a href="#cb34-3"></a>dat <span class="sc">%&gt;%</span> <span class="fu">separate</span>(name, <span class="fu">c</span>(<span class="st">"year"</span>, <span class="st">"name_1"</span>, <span class="st">"name_2"</span>), </span>
<span id="cb34-4" class="hljs-ln-code"><a href="#cb34-4"></a>                 <span class="at">fill =</span> <span class="st">"right"</span>, <span class="at">convert =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 224 × 5
   country  year name_1    name_2     value
   &lt;chr&gt;   &lt;int&gt; &lt;chr&gt;     &lt;chr&gt;      &lt;dbl&gt;
 1 Germany  1960 fertility &lt;NA&gt;        2.41
 2 Germany  1960 life      expectancy 69.3 
 3 Germany  1961 fertility &lt;NA&gt;        2.44
 4 Germany  1961 life      expectancy 69.8 
 5 Germany  1962 fertility &lt;NA&gt;        2.47
 6 Germany  1962 life      expectancy 70.0 
 7 Germany  1963 fertility &lt;NA&gt;        2.49
 8 Germany  1963 life      expectancy 70.1 
 9 Germany  1964 fertility &lt;NA&gt;        2.49
10 Germany  1964 life      expectancy 70.7 
# … with 214 more rows</code></pre>
</div>
</div>
</section>
<section id="separate-in-action-5" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"><code>separate()</code> in action</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb36-1" class="hljs-ln-code"><a href="#cb36-1"></a><span class="co"># split on first underscore but keep life_expectancy merged</span></span>
<span id="cb36-2" class="hljs-ln-code"><a href="#cb36-2"></a>dat <span class="sc">%&gt;%</span> <span class="fu">separate</span>(name, <span class="fu">c</span>(<span class="st">"year"</span>, <span class="st">"name"</span>), <span class="at">sep =</span> <span class="st">"_"</span>, </span>
<span id="cb36-3" class="hljs-ln-code"><a href="#cb36-3"></a>                 <span class="at">extra =</span> <span class="st">"merge"</span>, <span class="at">convert =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 224 × 4
   country  year name            value
   &lt;chr&gt;   &lt;int&gt; &lt;chr&gt;           &lt;dbl&gt;
 1 Germany  1960 fertility        2.41
 2 Germany  1960 life_expectancy 69.3 
 3 Germany  1961 fertility        2.44
 4 Germany  1961 life_expectancy 69.8 
 5 Germany  1962 fertility        2.47
 6 Germany  1962 life_expectancy 70.0 
 7 Germany  1963 fertility        2.49
 8 Germany  1963 life_expectancy 70.1 
 9 Germany  1964 fertility        2.49
10 Germany  1964 life_expectancy 70.7 
# … with 214 more rows</code></pre>
</div>
</div>
</section>
<section id="separate-in-action-6" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"><code>separate()</code> in action</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb38-1" class="hljs-ln-code"><a href="#cb38-1"></a><span class="co"># separate then create a new column for each variable using pivot_wider</span></span>
<span id="cb38-2" class="hljs-ln-code"><a href="#cb38-2"></a>dat <span class="sc">%&gt;%</span> <span class="fu">separate</span>(name, <span class="fu">c</span>(<span class="st">"year"</span>, <span class="st">"name"</span>), <span class="at">sep =</span> <span class="st">"_"</span>, </span>
<span id="cb38-3" class="hljs-ln-code"><a href="#cb38-3"></a>                 <span class="at">extra =</span> <span class="st">"merge"</span>, <span class="at">convert =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb38-4" class="hljs-ln-code"><a href="#cb38-4"></a>  <span class="fu">pivot_wider</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 112 × 4
   country  year fertility life_expectancy
   &lt;chr&gt;   &lt;int&gt;     &lt;dbl&gt;           &lt;dbl&gt;
 1 Germany  1960      2.41            69.3
 2 Germany  1961      2.44            69.8
 3 Germany  1962      2.47            70.0
 4 Germany  1963      2.49            70.1
 5 Germany  1964      2.49            70.7
 6 Germany  1965      2.48            70.6
 7 Germany  1966      2.44            70.8
 8 Germany  1967      2.37            71.0
 9 Germany  1968      2.28            70.6
10 Germany  1969      2.17            70.5
# … with 102 more rows</code></pre>
</div>
</div>
</section>
<section id="unite" class="slide level2">
<h2><code>unite()</code></h2>
<ul>
<li>does the opposite of <code>separate()</code></li>
</ul>
</section>
<section id="unite-in-action" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"><code>unite()</code> in action</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb40-1" class="hljs-ln-code"><a href="#cb40-1"></a><span class="co"># what if we had used this suboptimal way of separating</span></span>
<span id="cb40-2" class="hljs-ln-code"><a href="#cb40-2"></a>dat <span class="sc">%&gt;%</span> </span>
<span id="cb40-3" class="hljs-ln-code"><a href="#cb40-3"></a>  <span class="fu">separate</span>(name, <span class="fu">c</span>(<span class="st">"year"</span>, <span class="st">"name_1"</span>, <span class="st">"name_2"</span>), </span>
<span id="cb40-4" class="hljs-ln-code"><a href="#cb40-4"></a>           <span class="at">fill =</span> <span class="st">"right"</span>, <span class="at">convert =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 224 × 5
   country  year name_1    name_2     value
   &lt;chr&gt;   &lt;int&gt; &lt;chr&gt;     &lt;chr&gt;      &lt;dbl&gt;
 1 Germany  1960 fertility &lt;NA&gt;        2.41
 2 Germany  1960 life      expectancy 69.3 
 3 Germany  1961 fertility &lt;NA&gt;        2.44
 4 Germany  1961 life      expectancy 69.8 
 5 Germany  1962 fertility &lt;NA&gt;        2.47
 6 Germany  1962 life      expectancy 70.0 
 7 Germany  1963 fertility &lt;NA&gt;        2.49
 8 Germany  1963 life      expectancy 70.1 
 9 Germany  1964 fertility &lt;NA&gt;        2.49
10 Germany  1964 life      expectancy 70.7 
# … with 214 more rows</code></pre>
</div>
</div>
</section>
<section id="unite-in-action-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"><code>unite()</code> in action</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb42-1" class="hljs-ln-code"><a href="#cb42-1"></a><span class="co"># we could unite the second and third columns using unite()</span></span>
<span id="cb42-2" class="hljs-ln-code"><a href="#cb42-2"></a>dat <span class="sc">%&gt;%</span> </span>
<span id="cb42-3" class="hljs-ln-code"><a href="#cb42-3"></a>  <span class="fu">separate</span>(name, <span class="fu">c</span>(<span class="st">"year"</span>, <span class="st">"name_1"</span>, <span class="st">"name_2"</span>), </span>
<span id="cb42-4" class="hljs-ln-code"><a href="#cb42-4"></a>           <span class="at">fill =</span> <span class="st">"right"</span>, <span class="at">convert =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb42-5" class="hljs-ln-code"><a href="#cb42-5"></a>  <span class="fu">unite</span>(variable_name, name_1, name_2, <span class="at">sep=</span><span class="st">"_"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 224 × 4
   country  year variable_name   value
   &lt;chr&gt;   &lt;int&gt; &lt;chr&gt;           &lt;dbl&gt;
 1 Germany  1960 fertility_NA     2.41
 2 Germany  1960 life_expectancy 69.3 
 3 Germany  1961 fertility_NA     2.44
 4 Germany  1961 life_expectancy 69.8 
 5 Germany  1962 fertility_NA     2.47
 6 Germany  1962 life_expectancy 70.0 
 7 Germany  1963 fertility_NA     2.49
 8 Germany  1963 life_expectancy 70.1 
 9 Germany  1964 fertility_NA     2.49
10 Germany  1964 life_expectancy 70.7 
# … with 214 more rows</code></pre>
</div>
</div>
</section>
<section id="unite-in-action-2" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"><code>unite()</code> in action</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb44-1" class="hljs-ln-code"><a href="#cb44-1"></a><span class="co"># spread the columns</span></span>
<span id="cb44-2" class="hljs-ln-code"><a href="#cb44-2"></a>dat <span class="sc">%&gt;%</span> </span>
<span id="cb44-3" class="hljs-ln-code"><a href="#cb44-3"></a>  <span class="fu">separate</span>(name, <span class="fu">c</span>(<span class="st">"year"</span>, <span class="st">"name_1"</span>, <span class="st">"name_2"</span>), </span>
<span id="cb44-4" class="hljs-ln-code"><a href="#cb44-4"></a>           <span class="at">fill =</span> <span class="st">"right"</span>, <span class="at">convert =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb44-5" class="hljs-ln-code"><a href="#cb44-5"></a>  <span class="fu">unite</span>(name, name_1, name_2, <span class="at">sep=</span><span class="st">"_"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb44-6" class="hljs-ln-code"><a href="#cb44-6"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">"name"</span>, <span class="at">values_from =</span> <span class="st">"value"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb44-7" class="hljs-ln-code"><a href="#cb44-7"></a>  <span class="fu">rename</span>(<span class="at">fertility =</span> fertility_NA)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 112 × 4
   country  year fertility life_expectancy
   &lt;chr&gt;   &lt;int&gt;     &lt;dbl&gt;           &lt;dbl&gt;
 1 Germany  1960      2.41            69.3
 2 Germany  1961      2.44            69.8
 3 Germany  1962      2.47            70.0
 4 Germany  1963      2.49            70.1
 5 Germany  1964      2.49            70.7
 6 Germany  1965      2.48            70.6
 7 Germany  1966      2.44            70.8
 8 Germany  1967      2.37            71.0
 9 Germany  1968      2.28            70.6
10 Germany  1969      2.17            70.5
# … with 102 more rows</code></pre>
</div>
</div>
</section>
<section id="combining-tables" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Combining tables</h2>
<ul>
<li>The <code>join</code> functions in the <strong>dplyr</strong> package combine two tables such that matching rows are together.</li>
<li><code>left_join()</code> only keeps rows that have information in the first table.</li>
<li><code>right_join()</code> only keeps rows that have information in the second table.</li>
<li><code>inner_join()</code> only keeps rows that have information in both tables.</li>
</ul>
</section>
<section id="combining-tables-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Combining tables</h2>
<ul>
<li><code>full_join()</code> keeps all rows from both tables.</li>
<li><code>semi_join()</code> keeps the part of first table for which we have information in the second.</li>
<li><code>anti_join()</code> keeps the elements of the first table for which there is no information in the second.</li>
</ul>
</section>
<section id="joins-in-action" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Joins in action</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a><span class="fu">library</span>(dslabs)</span>
<span id="cb46-2"><a href="#cb46-2"></a><span class="fu">data</span>(murders)</span>
<span id="cb46-3"><a href="#cb46-3"></a><span class="co"># import US election results data</span></span>
<span id="cb46-4"><a href="#cb46-4"></a><span class="fu">data</span>(polls_us_election_2016)</span>
<span id="cb46-5"><a href="#cb46-5"></a><span class="fu">head</span>(results_us_election_2016)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         state electoral_votes clinton trump others
1   California              55    61.7  31.6    6.7
2        Texas              38    43.2  52.2    4.5
3      Florida              29    47.8  49.0    3.2
4     New York              29    59.0  36.5    4.5
5     Illinois              20    55.8  38.8    5.4
6 Pennsylvania              20    47.9  48.6    3.6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a><span class="fu">identical</span>(results_us_election_2016<span class="sc">$</span>state, murders<span class="sc">$</span>state)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
</section>
<section id="joins-in-action-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Joins in action</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb50-1" class="hljs-ln-code"><a href="#cb50-1"></a><span class="co"># join the murders table and US election results table</span></span>
<span id="cb50-2" class="hljs-ln-code"><a href="#cb50-2"></a>tab <span class="ot">&lt;-</span> <span class="fu">left_join</span>(murders, results_us_election_2016, <span class="at">by =</span> <span class="st">"state"</span>)</span>
<span id="cb50-3" class="hljs-ln-code"><a href="#cb50-3"></a>tab</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                  state abb        region population total electoral_votes
1               Alabama  AL         South    4779736   135               9
2                Alaska  AK          West     710231    19               3
3               Arizona  AZ          West    6392017   232              11
4              Arkansas  AR         South    2915918    93               6
5            California  CA          West   37253956  1257              55
6              Colorado  CO          West    5029196    65               9
7           Connecticut  CT     Northeast    3574097    97               7
8              Delaware  DE         South     897934    38               3
9  District of Columbia  DC         South     601723    99               3
10              Florida  FL         South   19687653   669              29
11              Georgia  GA         South    9920000   376              16
12               Hawaii  HI          West    1360301     7               4
13                Idaho  ID          West    1567582    12               4
14             Illinois  IL North Central   12830632   364              20
15              Indiana  IN North Central    6483802   142              11
16                 Iowa  IA North Central    3046355    21               6
17               Kansas  KS North Central    2853118    63               6
18             Kentucky  KY         South    4339367   116               8
19            Louisiana  LA         South    4533372   351               8
20                Maine  ME     Northeast    1328361    11               4
21             Maryland  MD         South    5773552   293              10
22        Massachusetts  MA     Northeast    6547629   118              11
23             Michigan  MI North Central    9883640   413              16
24            Minnesota  MN North Central    5303925    53              10
25          Mississippi  MS         South    2967297   120               6
26             Missouri  MO North Central    5988927   321              10
27              Montana  MT          West     989415    12               3
28             Nebraska  NE North Central    1826341    32               5
29               Nevada  NV          West    2700551    84               6
30        New Hampshire  NH     Northeast    1316470     5               4
31           New Jersey  NJ     Northeast    8791894   246              14
32           New Mexico  NM          West    2059179    67               5
33             New York  NY     Northeast   19378102   517              29
34       North Carolina  NC         South    9535483   286              15
35         North Dakota  ND North Central     672591     4               3
36                 Ohio  OH North Central   11536504   310              18
37             Oklahoma  OK         South    3751351   111               7
38               Oregon  OR          West    3831074    36               7
39         Pennsylvania  PA     Northeast   12702379   457              20
40         Rhode Island  RI     Northeast    1052567    16               4
41       South Carolina  SC         South    4625364   207               9
42         South Dakota  SD North Central     814180     8               3
43            Tennessee  TN         South    6346105   219              11
44                Texas  TX         South   25145561   805              38
45                 Utah  UT          West    2763885    22               6
46              Vermont  VT     Northeast     625741     2               3
47             Virginia  VA         South    8001024   250              13
48           Washington  WA          West    6724540    93              12
49        West Virginia  WV         South    1852994    27               5
50            Wisconsin  WI North Central    5686986    97              10
51              Wyoming  WY          West     563626     5               3
   clinton trump others
1     34.4  62.1    3.6
2     36.6  51.3   12.2
3     45.1  48.7    6.2
4     33.7  60.6    5.8
5     61.7  31.6    6.7
6     48.2  43.3    8.6
7     54.6  40.9    4.5
8     53.4  41.9    4.7
9     90.9   4.1    5.0
10    47.8  49.0    3.2
11    45.9  51.0    3.1
12    62.2  30.0    7.7
13    27.5  59.3   13.2
14    55.8  38.8    5.4
15    37.8  56.9    5.3
16    41.7  51.1    7.1
17    36.1  56.7    7.3
18    32.7  62.5    4.8
19    38.4  58.1    3.5
20    48.0  45.0    7.0
21    60.3  33.9    5.8
22    60.0  32.8    7.2
23    47.3  47.5    5.2
24    46.4  44.9    8.6
25    40.1  57.9    1.9
26    38.1  56.8    5.1
27    35.9  56.5    7.6
28    34.3  59.9    5.8
29    47.9  45.5    6.6
30    46.8  46.5    6.7
31    55.5  41.4    3.2
32    48.3  40.0   11.7
33    59.0  36.5    4.5
34    46.2  49.8    4.0
35    27.2  63.0    9.8
36    43.5  51.7    4.8
37    28.9  65.3    5.7
38    50.1  39.1   10.8
39    47.9  48.6    3.6
40    54.4  38.9    6.7
41    40.7  54.9    4.4
42    31.7  61.5    6.7
43    34.7  60.7    4.6
44    43.2  52.2    4.5
45    27.5  45.5   27.0
46    56.7  30.3   13.1
47    49.8  44.4    5.8
48    54.3  38.1    7.6
49    26.5  68.6    4.9
50    46.5  47.2    6.3
51    21.9  68.2   10.0</code></pre>
</div>
</div>
</section>
<section id="plot-votes-vs.-population" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Plot votes vs.&nbsp;population</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb52-1" class="hljs-ln-code"><a href="#cb52-1"></a>tab <span class="sc">%&gt;%</span> </span>
<span id="cb52-2" class="hljs-ln-code"><a href="#cb52-2"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(population<span class="sc">/</span><span class="dv">10</span><span class="sc">^</span><span class="dv">6</span>, electoral_votes, <span class="at">label =</span> abb)) <span class="sc">+</span>           <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb52-3" class="hljs-ln-code"><a href="#cb52-3"></a>  <span class="fu">geom_text_repel</span>() <span class="sc">+</span> </span>
<span id="cb52-4" class="hljs-ln-code"><a href="#cb52-4"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">trans =</span> <span class="st">"log2"</span>) <span class="sc">+</span>  </span>
<span id="cb52-5" class="hljs-ln-code"><a href="#cb52-5"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">trans =</span> <span class="st">"log2"</span>) <span class="sc">+</span> </span>
<span id="cb52-6" class="hljs-ln-code"><a href="#cb52-6"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="plot-votes-vs.-population-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Plot votes vs.&nbsp;population</h2>

<img data-src="13_Tidy_Data_files/figure-revealjs/unnamed-chunk-26-1.png" width="960" class="r-stretch"></section>
<section id="joins-in-action-2" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Joins in action</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb53-1" class="hljs-ln-code"><a href="#cb53-1"></a><span class="co"># make two smaller tables to demonstrate joins</span></span>
<span id="cb53-2" class="hljs-ln-code"><a href="#cb53-2"></a>tab1 <span class="ot">&lt;-</span> <span class="fu">slice</span>(murders, <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(state, population)</span>
<span id="cb53-3" class="hljs-ln-code"><a href="#cb53-3"></a>tab1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       state population
1    Alabama    4779736
2     Alaska     710231
3    Arizona    6392017
4   Arkansas    2915918
5 California   37253956
6   Colorado    5029196</code></pre>
</div>
</div>
</section>
<section id="joins-in-action-3" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Joins in action</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb55-1" class="hljs-ln-code"><a href="#cb55-1"></a>tab2 <span class="ot">&lt;-</span> <span class="fu">slice</span>(results_us_election_2016, <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span><span class="sc">:</span><span class="dv">8</span>)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(state, electoral_votes)</span>
<span id="cb55-2" class="hljs-ln-code"><a href="#cb55-2"></a>tab2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       state electoral_votes
1 California              55
2      Texas              38
3    Florida              29
4   Illinois              20
5       Ohio              18
6    Georgia              16</code></pre>
</div>
</div>
</section>
<section id="experiment-with-different-joins" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Experiment with different joins</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb57-1" class="hljs-ln-code"><a href="#cb57-1"></a><span class="co"># experiment with different joins</span></span>
<span id="cb57-2" class="hljs-ln-code"><a href="#cb57-2"></a><span class="fu">left_join</span>(tab1, tab2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       state population electoral_votes
1    Alabama    4779736              NA
2     Alaska     710231              NA
3    Arizona    6392017              NA
4   Arkansas    2915918              NA
5 California   37253956              55
6   Colorado    5029196              NA</code></pre>
</div>
</div>
</section>
<section id="experiment-with-different-joins-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Experiment with different joins</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb59-1" class="hljs-ln-code"><a href="#cb59-1"></a><span class="co"># experiment with different joins</span></span>
<span id="cb59-2" class="hljs-ln-code"><a href="#cb59-2"></a>tab1 <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(tab2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       state population electoral_votes
1    Alabama    4779736              NA
2     Alaska     710231              NA
3    Arizona    6392017              NA
4   Arkansas    2915918              NA
5 California   37253956              55
6   Colorado    5029196              NA</code></pre>
</div>
</div>
</section>
<section id="experiment-with-different-joins-2" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Experiment with different joins</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb61-1" class="hljs-ln-code"><a href="#cb61-1"></a><span class="co"># experiment with different joins</span></span>
<span id="cb61-2" class="hljs-ln-code"><a href="#cb61-2"></a>tab1 <span class="sc">%&gt;%</span> <span class="fu">right_join</span>(tab2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       state population electoral_votes
1 California   37253956              55
2      Texas         NA              38
3    Florida         NA              29
4   Illinois         NA              20
5       Ohio         NA              18
6    Georgia         NA              16</code></pre>
</div>
</div>
</section>
<section id="experiment-with-different-joins-3" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Experiment with different joins</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb63-1" class="hljs-ln-code"><a href="#cb63-1"></a><span class="co"># experiment with different joins</span></span>
<span id="cb63-2" class="hljs-ln-code"><a href="#cb63-2"></a><span class="fu">inner_join</span>(tab1, tab2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       state population electoral_votes
1 California   37253956              55</code></pre>
</div>
</div>
</section>
<section id="experiment-with-different-joins-4" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Experiment with different joins</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb65-1" class="hljs-ln-code"><a href="#cb65-1"></a><span class="co"># experiment with different joins</span></span>
<span id="cb65-2" class="hljs-ln-code"><a href="#cb65-2"></a><span class="fu">semi_join</span>(tab1, tab2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       state population
1 California   37253956</code></pre>
</div>
</div>
</section>
<section id="experiment-with-different-joins-5" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Experiment with different joins</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb67-1" class="hljs-ln-code"><a href="#cb67-1"></a><span class="co"># experiment with different joins</span></span>
<span id="cb67-2" class="hljs-ln-code"><a href="#cb67-2"></a><span class="fu">anti_join</span>(tab1, tab2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     state population
1  Alabama    4779736
2   Alaska     710231
3  Arizona    6392017
4 Arkansas    2915918
5 Colorado    5029196</code></pre>
</div>
</div>
</section>
<section id="exercises" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Exercises</h2>
<p>We previously created a tidy version of the <code>co2</code> dataset:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb69-1" class="hljs-ln-code"><a href="#cb69-1"></a>co2_tidy <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">matrix</span>(co2, <span class="at">ncol =</span> <span class="dv">12</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb69-2" class="hljs-ln-code"><a href="#cb69-2"></a>  <span class="fu">setNames</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>) <span class="sc">%&gt;%</span></span>
<span id="cb69-3" class="hljs-ln-code"><a href="#cb69-3"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="dv">1959</span><span class="sc">:</span><span class="dv">1997</span>) <span class="sc">%&gt;%</span></span>
<span id="cb69-4" class="hljs-ln-code"><a href="#cb69-4"></a>  <span class="fu">pivot_longer</span>(<span class="sc">-</span>year, <span class="at">names_to =</span> <span class="st">"month"</span>, <span class="at">values_to =</span> <span class="st">"co2"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb69-5" class="hljs-ln-code"><a href="#cb69-5"></a>  <span class="fu">mutate</span>(<span class="at">month =</span> <span class="fu">as.numeric</span>(month))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="exercises-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Exercises</h2>
<ul>
<li>We want to see if the monthly trend is changing so we are going to remove the year effects and then plot the results.</li>
<li>First compute the year averages.</li>
<li>Use the <code>group_by</code> and <code>summarize</code> to compute the average co2 for each year. Save in an object called yearly_avg.</li>
</ul>
</section>
<section id="exercises-2" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Exercises</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb70-1" class="hljs-ln-code"><a href="#cb70-1"></a>yearly_avg <span class="ot">&lt;-</span> co2_tidy <span class="sc">%&gt;%</span></span>
<span id="cb70-2" class="hljs-ln-code"><a href="#cb70-2"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb70-3" class="hljs-ln-code"><a href="#cb70-3"></a>  <span class="fu">summarize</span>(<span class="at">avg_co2 =</span> <span class="fu">mean</span>(co2))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="exercise-2" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Exercise</h2>
<ul>
<li>Now use the <code>left_join</code> function to add the yearly average to the co2_tidy dataset.</li>
<li>Then compute the residuals: observed co2 measure - yearly average.</li>
<li>Plot the residuals by year as before after removing the year effect.</li>
<li>What is happening to the seasonal variation? Modify the plot to look at one year in every decade.</li>
</ul>
</section>
<section id="exercise---part-1-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Exercise - part 1</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb71-1" class="hljs-ln-code"><a href="#cb71-1"></a>joined_co2 <span class="ot">&lt;-</span> co2_tidy <span class="sc">%&gt;%</span> </span>
<span id="cb71-2" class="hljs-ln-code"><a href="#cb71-2"></a>  <span class="fu">left_join</span>(yearly_avg) <span class="sc">%&gt;%</span></span>
<span id="cb71-3" class="hljs-ln-code"><a href="#cb71-3"></a>  <span class="fu">mutate</span>(<span class="at">residual =</span> co2 <span class="sc">-</span> avg_co2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="exercise---part-2-1" class="slide level2" data-auto-animate="&quot;true">
<h2 data-id="quarto-animate-title">Exercise - part 2</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb72-1" class="hljs-ln-code"><a href="#cb72-1"></a>joined_co2 <span class="sc">%&gt;%</span> </span>
<span id="cb72-2" class="hljs-ln-code"><a href="#cb72-2"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(month, residual, <span class="at">color =</span> <span class="fu">as.factor</span>(year))) <span class="sc">+</span> </span>
<span id="cb72-3" class="hljs-ln-code"><a href="#cb72-3"></a>  <span class="fu">geom_line</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="13_Tidy_Data_files/figure-revealjs/unnamed-chunk-38-1.png" width="960" class="r-stretch"></section>
<section id="exercise---part-3" class="slide level2" data-auto-animate="&quot;true">
<h2 data-id="quarto-animate-title">Exercise - part 3</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb73-1" class="hljs-ln-code"><a href="#cb73-1"></a>joined_co2 <span class="sc">%&gt;%</span> </span>
<span id="cb73-2" class="hljs-ln-code"><a href="#cb73-2"></a>  <span class="fu">filter</span>(year <span class="sc">%in%</span> <span class="fu">seq</span>(<span class="fu">min</span>(joined_co2<span class="sc">$</span>year), <span class="fu">max</span>(joined_co2<span class="sc">$</span>year), <span class="dv">10</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb73-3" class="hljs-ln-code"><a href="#cb73-3"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(month, residual, <span class="at">color =</span> <span class="fu">as.factor</span>(year))) <span class="sc">+</span> </span>
<span id="cb73-4" class="hljs-ln-code"><a href="#cb73-4"></a>  <span class="fu">geom_line</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="13_Tidy_Data_files/figure-revealjs/unnamed-chunk-39-1.png" width="960" class="r-stretch"></section>
<section id="exercise---part-3-1" class="slide level2" data-auto-animate="&quot;true">
<h2 data-id="quarto-animate-title">Exercise - part 3</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb74-1" class="hljs-ln-code"><a href="#cb74-1"></a>co2_stats <span class="ot">&lt;-</span> joined_co2 <span class="sc">%&gt;%</span> </span>
<span id="cb74-2" class="hljs-ln-code"><a href="#cb74-2"></a>  <span class="fu">mutate</span>(<span class="at">decade =</span> <span class="fu">round</span>(year<span class="sc">/</span> <span class="dv">10</span>)<span class="sc">*</span><span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb74-3" class="hljs-ln-code"><a href="#cb74-3"></a>  <span class="fu">group_by</span>(decade, month) <span class="sc">%&gt;%</span></span>
<span id="cb74-4" class="hljs-ln-code"><a href="#cb74-4"></a>  <span class="fu">summarize</span>(<span class="at">avg_per_month =</span> <span class="fu">mean</span>(residual)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="exercise---part-3-2" class="slide level2" data-auto-animate="&quot;true">
<h2 data-id="quarto-animate-title">Exercise - part 3</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb75-1" class="hljs-ln-code"><a href="#cb75-1"></a>co2_stats <span class="sc">%&gt;%</span> </span>
<span id="cb75-2" class="hljs-ln-code"><a href="#cb75-2"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(month, avg_per_month, <span class="at">color =</span> <span class="fu">as.factor</span>(decade))) <span class="sc">+</span> </span>
<span id="cb75-3" class="hljs-ln-code"><a href="#cb75-3"></a>  <span class="fu">geom_line</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="13_Tidy_Data_files/figure-revealjs/unnamed-chunk-41-1.png" width="960" class="r-stretch"></section>
<section id="any-questions" class="slide level2">
<h2>Any questions?</h2>

<img data-src="images/tidyr_cheat_sheet.png" class="r-stretch"><div class="footer">
<p><a href="https://github.com/rstudio/cheatsheets/blob/main/tidyr.pdf" class="uri">https://github.com/rstudio/cheatsheets/blob/main/tidyr.pdf</a></p>
</div>
</section>
<section id="thank-you" class="slide level2">
<h2>Thank you!</h2>
<ul>
<li>The Koppstein lab will be starting at Uniklinik Düsseldorf in a few months</li>
<li>There is a position for a Ph.D student interested in genomic and bioinformatic methods applied to blood and brain cancers</li>
<li>E-mail <a href="David.Koppstein@gmail.com">David.Koppstein@gmail.com</a> if you or anyone else are interested!</li>
</ul>

<img src="images/maxplanck-ie.jpg" class="slide-logo r-stretch"><div class="footer footer-default">

</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="13_Tidy_Data_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="13_Tidy_Data_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="13_Tidy_Data_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="13_Tidy_Data_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="13_Tidy_Data_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="13_Tidy_Data_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="13_Tidy_Data_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="13_Tidy_Data_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="13_Tidy_Data_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="13_Tidy_Data_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="13_Tidy_Data_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":false},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>